bbtalk:
  layout: markdown
  title: è¯´è¯´
  content: |
    <div id = "bber-talk"></div>
    <script defer data-pjax src = "/js/timeago.min.js"></script>
    <script defer data-pjax src = "/js/bbtalk.js"></script>
fcir:
  layout: timeline
  title: è¿‘æœŸåŠ¨æ€
  api:  # ä½ çš„æœ‹å‹åœˆæ•°æ®æ–‡ä»¶åœ°å€
  type: fcircle
  limit: 15 # å¯é€šè¿‡è¿™ä¸ªé™åˆ¶æœ€å¤§æ•°é‡

recent:
  layout: recent
  rss:  /atom.xml # npm i hexo-generator-feed
  limit: 5 # Count of posts
fortunate:
  layout: markdown
  title: ä»Šæ—¥è¿åŠ¿
  content: |
    <div id="fortune-result"></div><div id="recommendations"></div><script data-pjax>async function getUserIP(){try{const response=await fetch('https://api.ipify.org?format=json');const data=await response.json();return data.ip;}catch(error){console.error('Error fetching IP:',error);return null;}}
    async function generateUserFeatureNumber(){try{const userAgent=navigator.userAgent||'Unknown User Agent';const userIP=await getUserIP()||'Unknown IP';const featureNumber=hashString(userAgent+userIP);console.log('User Agent:',userAgent);console.log('User IP:',userIP);console.log('User Feature Number:',featureNumber);return featureNumber;}catch(error){console.error('Error generating user feature number:',error);return null;}}
    const seed_user=generateUserFeatureNumber();function hashString(str){let hash=0;for(let i=0;i<str.length;i++){const char=str.charCodeAt(i);hash=(hash<<5)-hash+char;}
    return hash;}
    function krandom(seed){return('0.'+Math.sin(seed).toString().substr(6));}
    function getCurrentDate(){const today=new Date();const year=today.getFullYear();const month=String(today.getMonth()+1).padStart(2,'0');const day=String(today.getDate()).padStart(2,'0');return`${year}-${month}-${day}`;}
    function getStoredRecommendations(){const storedDate=localStorage.getItem('recommendationsDate');const currentDate=getCurrentDate();return storedDate===currentDate?JSON.parse(localStorage.getItem('recommendations')):null;}
    function saveRecommendationsToStorage(recommendations){const currentDate=getCurrentDate();localStorage.setItem('recommendationsDate',currentDate);localStorage.setItem('recommendations',JSON.stringify(recommendations));}
    function generateRecommendations(){const currentDate=getCurrentDate();const Activities=[['å†…å·ï¼šå·ç‹é™„ä½“','å†…å·ï¼šäº«å—ç”Ÿæ´»'],['æ‰“èµŒï¼šç¿»è½¦','æ‰“èµŒï¼šå¿…èƒœ'],['å®…å®¶ï¼šè‡ªå®…è­¦å¤‡å‘˜','å®…å®¶ï¼š'],['ä¸Šç½‘ï¼šsurfing!','ä¸Šç½‘ï¼šè¯·å…ˆæŠ¥å¤‡'],['è€ƒè¯•ï¼šè€ƒç¥é™„ä½“','è€ƒè¯•ï¼šèº«è´¥åè£‚']];const randomGoodIndex=Math.floor(krandom(hashString(seed_user+currentDate))*Activities.length);const randomBadIndex=Math.floor(krandom(hashString(seed_user+currentDate+'123'))*Activities.length);return{good:Activities[randomGoodIndex][0],bad:Activities[randomBadIndex][1],};}
    function showRecommendationsResult(){const storedRecommendations=getStoredRecommendations();const recommendationsResult=storedRecommendations!==null?storedRecommendations:generateRecommendations();saveRecommendationsToStorage(recommendationsResult);const recommendationsElement=document.getElementById('recommendations');recommendationsElement.innerHTML=`<p>å®œ${recommendationsResult.good}</p><p>å¿Œ${recommendationsResult.bad}</p>`;}
    function getCurrentFortune(){const storedDate=localStorage.getItem('fortuneDate');const currentDate=getCurrentDate();return storedDate===currentDate?localStorage.getItem('fortune'):null;}
    function saveFortuneToStorage(fortune){const currentDate=getCurrentDate();localStorage.setItem('fortuneDate',currentDate);localStorage.setItem('fortune',fortune);}
    function generateFortune(){const fortunes=['å¤§å‰','å‰','å°å‰','å°å‡¶','å‡¶','å¤§å‡¶'];const randomIndex=Math.floor(krandom(seed_user)*fortunes.length);return fortunes[randomIndex];}
    function showFortuneResult(){const storedFortune=getCurrentFortune();const fortuneResult=storedFortune!==null?storedFortune:generateFortune();saveFortuneToStorage(fortuneResult);const resultElement=document.getElementById('fortune-result');resultElement.textContent=`ä»Šæ—¥è¿åŠ¿ï¼š${fortuneResult}`;}
    function handlePjax(){showFortuneResult();showRecommendationsResult();}
    window.addEventListener('pjax:end',handlePjax);handlePjax();</script>
hitokoto:
  layout: markdown
  title: ä¸€è¨€
  content: |
    <p id="hitokoto_all"><a href="#" id="hitokoto_text">æ€è€ƒä¸­ğŸ¤”...</a></p>
    <script async data-pjax>
        fetch('https://v1.hitokoto.cn')
        .then(function (res){
        return res.json();
    })
        .then(function (data) {
        var hitokoto_all = document.getElementById('hitokoto_all');
        hitokoto_all.innerText = data.hitokoto + "  â€”â€” " + data.from_who +"ã€Š" + data.from + 'ã€‹' ; 
    })
        .catch(function (err) {
        console.error(err);
    })
    </script>
jiejiari:
  layout: markdown
  title: å¿«ä¹æ‘¸é±¼
  content: |
    <div class="sidebar">
    <div id="countdown" class="countdown"></div>
    <div id="holiday" class="holiday"></div>
    </div>
    <script async data-pjax>
    // å®šä¹‰ä¸­å›½å¤§é™†çš„èŠ‚å‡æ—¥æ—¥æœŸ
    let cout = function() {
      const holidays = {
      'å…ƒæ—¦': '2024-01-01',
      'æ˜¥èŠ‚': '2024-02-10',
      'æ¸…æ˜èŠ‚': '2024-04-04',
      'åŠ³åŠ¨èŠ‚': '2024-05-01',
      'ç«¯åˆèŠ‚': '2024-06-10',
      'ä¸­ç§‹èŠ‚': '2024-09-17',
      'å›½åº†èŠ‚': '2024-10-01'
    };
    // è·å–å½“å‰æ—¥æœŸ
    const now = new Date();
    // è®¡ç®—è·ç¦»ä¸‹ä¸€ä¸ªèŠ‚å‡æ—¥è¿˜æœ‰å¤šå°‘æ—¶é—´
    function getNextHolidayCountdown(holidays, now) {
      const dates = Object.values(holidays).map(holiday => new Date(holiday)).sort((a, b) => a - b);
      const nextHoliday = dates.find(date => date >= now);
      const totalSeconds = (nextHoliday - now) / 1000;
      const days = Math.floor(totalSeconds / (3600 * 24));
      const hours = Math.floor(totalSeconds % (3600 * 24) / 3600);
      const minutes = Math.floor(totalSeconds % 3600 / 60);
      const seconds = Math.floor(totalSeconds % 60);
      return { days, hours, minutes, seconds, holiday: Object.keys(holidays).find(key => holidays[key] === nextHoliday.toISOString().split('T')[0]) };
    }
    // æ›´æ–°DOMå…ƒç´ æ˜¾ç¤ºå€’è®¡æ—¶
    function updateCountdownDisplay() {
      const countdown = getNextHolidayCountdown(holidays, new Date());
      document.getElementById('holiday').textContent = `è·ç¦»${countdown.holiday}`;
      document.getElementById('countdown').textContent = `è¿˜æœ‰${countdown.days}å¤©${countdown.hours}å°æ—¶${countdown.minutes}åˆ†é’Ÿ${countdown.seconds}ç§’`;
    }
    // æ¯ç§’æ›´æ–°å€’è®¡æ—¶
    setInterval(updateCountdownDisplay, 1000);
    }
    cout();
    document.addEventListener('pjax:complete', () => {
    cout();
    })
    </script>
poems:
  layout: markdown
  title: æ¯æ—¥è¯—è¯
  content : |
    <span id="jinrishici-sentence">æ­£åœ¨åŠ è½½ä»Šæ—¥è¯—è¯....</span>
    <script data-pjax async src="https://sdk.jinrishici.com/v2/browser/jinrishici.js" charset="utf-8"></script>
notication:
  layout: markdown
  title: å…¬å‘Š
  content: |
    æœ¬ç ´ç«™åœ¨æµè§ˆè¿‡ç¨‹ä¸­å¯èƒ½ä¼šé‡è§bugï¼Œä¸€èˆ¬åˆ·æ–°å°±å¥½äº†ï¼Œå¦‚æœä¸è¡Œå¯ä»¥ç•™è¨€å‘Šè¯‰åšä¸»~(ï¿£â–½ï¿£)~*